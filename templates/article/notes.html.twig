{% extends "base.html.twig" %}

{% block title %}{% endblock %}
{% block body %}
{% extends 'base.html.twig' %}

{% block title %}Blog: Artilce|Commentaires
{% endblock %}

{% block body %}
	{% include "layouts/_navbar.html.twig" %}
	<section class="text-gray-600 body-font">
		<div class="container mx-auto flex flex-col px-5 py-24 justify-center items-center">
			<img class="lg:w-2/6 md:w-3/6 w-5/6 mb-10 object-cover object-center rounded" alt="hero" src="/images/articles/{{article.imageName}}">
			<div class="w-full md:w-2/3 flex flex-col mb-16 items-center text-center">
				<h1 class="title-font sm:text-4xl text-3xl mb-4 font-medium text-gray-900">{{article.title}}</h1>
				<p class="mb-8 leading-relaxed">{{article.content}}</p>

				<div class="flex w-full ">
					{% if app.user %}
						<!-- component -->
						<div class="antialiased mx-auto max-w-screen-sm">
							<h3 class="mb-4 text-lg font-semibold text-gray-900">Commentaires ({{article.comments|length}})</h3>

							<div class="space-y-4">

								{% for comment in article.comments %}
								<div class="flex">
								
									<div class="flex-shrink-0 mr-3">
										<img class="mt-2 rounded-full w-8 h-8 sm:w-10 sm:h-10" src="https://images.unsplash.com/photo-1604426633861-11b2faead63c?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=200&h=200&q=80" alt="">
									</div>
									<div class="flex-1 border rounded-lg px-4 py-2 sm:px-6 sm:py-4 leading-relaxed">
										<strong>{{comment.user.firstName}}</strong>
										<span class="text-xs text-gray-400">{{comment.publishedAt|format_datetime(locale="fr")}}</span>
										<p class="text-sm">
											{{comment.content}}
										</p>

									</div>
								</div>
								{% endfor %}
							</div>

						{% else %}
							<a href="{{path('app_login')}}" class="inline-flex text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded text-lg">Laisser un commentaire</a>
						{% endif %}


					</div>
				</div>
			</div>
		</section>

	{% endblock %}


{% endblock %}